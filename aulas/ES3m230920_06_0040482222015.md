# Aula 06

> ES3m230920 06 0040482222015 UC Conta Banc√°ria

 Reposit√≥rio: [github.com/h4mn/fatec_engenharia](https://github.com/h4mn/fatec_engenharia/)

## Enunciado

### Texto do Enunciado

#### Conta banc√°ria

Um cliente solicita a abertura de uma conta, a qual pode ser uma conta comum, que n√£o permite a retirada de mais dinheiro do que est√° depositado, uma conta especial, que permite o saque extra at√© um determinado limite, ou uma conta-poupan√ßa, que rende juros enquanto o dinheiro depositado permanecer sem ser movimentado.

Como os processos de abertura para cada tipo de conta t√™m caracter√≠sticas muito semelhantes entre si, com poucas distin√ß√µes, pode-se (√© bom) colocar o caso de uso Abrir Conta Comum como uma generaliza√ß√£o (embora ele seja efetivamente utilizado) e os outros dois tipos de abertura como especializa√ß√µes do primeiro, detalhando-se em sua documenta√ß√£o as caracter√≠sticas particulares que elas t√™m em rela√ß√£o ao caso de uso geral Abrir Conta Comum. Uma alternativa seria definir um caso de uso geral, denominado simplesmente Abrir Conta, que n√£o seria utilizado diretamente, e derivar a partir da√≠ os tr√™s tipos de abertura de conta poss√≠veis.

No momento em que um funcion√°rio executa o processo de manuten√ß√£o do cadastro de clientes (Manter Clientes), uma conta comum pode ser aberta. Embora o caso de uso Manter Clientes possa ser utilizado independentemente pelos funcion√°rios do banco, a cria√ß√£o de uma conta banc√°ria normalmente implica o registro do novo cliente ou, se este j√° estiver cadastrado, uma poss√≠vel atualiza√ß√£o. No entanto, como nem sempre √© necess√°rio registrar ou atualizar o cliente, esse caso de uso n√£o constitui uma a√ß√£o obrigat√≥ria, pois s√≥ ser√° utilizado se o cliente que deseja abrir a conta n√£o estiver registrado ou precisar atualizar seus dados.

√â obrigat√≥rio depositar algum valor no momento em que o processo de abertura da conta for conclu√≠do. Assim, sempre que uma conta for aberta, as instru√ß√µes contidas no caso de uso Realizar Dep√≥sito ser√£o igualmente executadas.

Um cliente pode eventualmente querer encerrar uma conta, por√©m, antes de faz√™-lo, algumas opera√ß√µes devem ser executadas. Em primeiro lugar, √© preciso verificar o saldo da conta (Emitir Saldo) para determinar se o banco precisa devolver algum dinheiro ao cliente ou, caso a conta seja especial e estiver negativa, se o cliente precisa depositar algum dinheiro para encerrar a conta. Se o saldo estiver positivo, deve-se realizar um saque por meio do caso de uso Realizar Saque. Se o saldo estiver negativo, deve-se realizar um dep√≥sito por interm√©dio do caso de uso Realizar Dep√≥sito. Como n√£o √© poss√≠vel saber se vai ser necess√°rio ou n√£o sacar ou depositar algum valor, as associa√ß√µes entre os casos de uso Encerrar Conta, Realizar Saque e Realizar Dep√≥sito s√£o efetuadas opcionalmente. No caso de encerramento de conta, se o cliente possu√≠a apenas esta conta, deve-se Manter o Cliente, tornando-o inativo, pois, uma vez cliente, seu registro n√£o pode ser exclu√≠do do sistema, o mesmo ocorrendo com quaisquer contas que um dia ele possa ter tido na institui√ß√£o banc√°ria. Esta pode ser definida como encerrada, mas jamais exclu√≠da.

Existem ainda os casos de uso Emitir Saldo e Emitir Extrato, que s√£o servi√ßos que podem ser utilizados diretamente pelo cliente por meio de um caixa eletr√¥nico, sem a intermedia√ß√£o de um funcion√°rio. Como s√£o servi√ßos simples, n√£o necessitam de intera√ß√µes com outros casos de uso do diagrama, embora o caso de uso Emitir Saldo seja utilizado pelo caso de uso Encerrar Conta, conforme j√° descrito.

Finalmente, h√° os casos de uso Realizar Saque e Realizar Dep√≥sito, que j√° foram citados, por poderem ser tamb√©m requisitados pelo caso de uso Encerrar Conta. Normalmente, no entanto, tais servi√ßos, da mesma maneira que os casos de uso Saldo e Extrato, ser√£o utilizados diretamente pelo cliente. Contudo, esses servi√ßos necessitam registrar o movimento realizado, raz√£o pela qual ambos obrigatoriamente utilizam o caso de uso Registrar Movimento, que, para fins de hist√≥rico banc√°rio, registra qualquer saque ou dep√≥sito porventura realizado em uma conta.

### Exerc√≠cio

#### Diagrama de Funcionalidades do Banco

```text
---
title: C√≥digo Mermaid
author: Hadston Nunes
date: 2023-10-01
---
graph LR
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AA([Solicitar Abertura de Conta])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AB([Solicitar Encerramento de Conta])
    subgraph "`**Banco**`"
        AA --> |ao| B["üë®‚Äçüíº Banc√°rio"]
        AB --> |ao| B["üë®‚Äçüíº Banc√°rio"]
    end
```

```mermaid
---
title: Diagrama Renderizado
---
graph LR
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AA([Solicitar Abertura de Conta])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AB([Solicitar Encerramento de Conta])
    subgraph "`**Banco**`"
        AA --> |ao| B["üë®‚Äçüíº Banc√°rio"]
        AB --> |ao| B["üë®‚Äçüíº Banc√°rio"]
    end
```

#### Diagrama de Funcionalidades do Caixa Eletr√¥nico

```text
---
title: C√≥digo Mermaid
author: Hadston Nunes
date: 2023-10-01
---
graph LR
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AA([Realizar Dep√≥sito])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AB([Emitir Saldo])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AC([Emitir Extrato])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AD([Realizar Saque])
    subgraph "`**Caixa Eletr√¥nico**`"
        AA --> |no| B["üèß Caixa Eletr√¥nico"]
        AB --> |no| B["üèß Caixa Eletr√¥nico"]
        AC --> |no| B["üèß Caixa Eletr√¥nico"]
        AD --> |no| B["üèß Caixa Eletr√¥nico"]
    end
```

```mermaid
---
title: Diagrama Renderizado
---
graph LR
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AA([Realizar Dep√≥sito])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AB([Emitir Saldo])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AC([Emitir Extrato])
    A["üôç‚Äç‚ôÇÔ∏è Cliente"] --> |pode| AD([Realizar Saque])
    subgraph "`**Caixa Eletr√¥nico**`"
        AA --> |no| B["üèß Caixa Eletr√¥nico"]
        AB --> |no| B["üèß Caixa Eletr√¥nico"]
        AC --> |no| B["üèß Caixa Eletr√¥nico"]
        AD --> |no| B["üèß Caixa Eletr√¥nico"]
    end
```

#### Diagramas de Requisitos do Sistema

```text
---
title: C√≥digo Mermaid
author: Hadston Nunes
date: 2023-10-01
---
graph LR
    A["üë®‚Äçüíº Bancario"] --> |pode| AA([Abrir Conta])
    A["üë®‚Äçüíº Bancario"] --> |pode| AB([Atualizar Conta])
    A["üë®‚Äçüíº Bancario"] --> |pode| AC([Encerrar Conta])
    subgraph "`**Sistema**`"
        AA -.-> |extend| AAA(Adicionar Funcionalidade de Conta Poupan√ßa)
        AA -.-> |extend| AAB(Adicionar Funcionalidade de Conta Especial)
        
        AC -.-> |include| ACA([Emitir Saldo])
        ACA -.- |se| ACA1{Zerado}
        ACA1 --> |ent√£o| ACA11([Inativar Conta])

        ACA1 -.- |sen√£o| ACA2{Positivo}
        ACA2 --> |ent√£o| ACA21([Realizar Saque])
        ACA2 --> |sen√£o| ACA22([Realizar Dep√≥sito])

        AB -.-> |include| ABA([Realizar Manuten√ß√£o nos Dados do Cliente])
    end
```

```mermaid
---
title: Diagrama Renderizado
---
graph LR
    A["üë®‚Äçüíº Bancario"] --> |pode| AA([Abrir Conta])
    A["üë®‚Äçüíº Bancario"] --> |pode| AB([Atualizar Conta])
    A["üë®‚Äçüíº Bancario"] --> |pode| AC([Encerrar Conta])
    subgraph "`**Sistema**`"
        AA -.-> |extend| AAA(Adicionar Funcionalidade de Conta Poupan√ßa)
        AA -.-> |extend| AAB(Adicionar Funcionalidade de Conta Especial)
        
        AC -.-> |include| ACA([Emitir Saldo])
        ACA -.- |se| ACA1{Zerado}
        ACA1 --> |ent√£o| ACA11([Inativar Conta])

        ACA1 -.- |sen√£o| ACA2{Positivo}
        ACA2 --> |ent√£o| ACA21([Realizar Saque])
        ACA2 --> |sen√£o| ACA22([Realizar Dep√≥sito])

        AB -.-> |include| ABA([Realizar Manuten√ß√£o nos Dados do Cliente])
    end
```

## Refer√™ncias

- [01.4. UML_UC_Exerc05_ContaBanco.pdf](../materiais/01.4.%20UML_UC_Exerc05_ContaBanco.pdf)
- [Documenta√ß√£o Mermaid](http://mermaid.js.org/syntax/flowchart.html)
- [Documenta√ß√£o Unicode](https://emojipedia.org/)
